<script type="text/javascript">

var Mynumber = function(){
  this.num;
  this.sum;
  this.gcmsum = function (){
      var max = Math.sqrt(this.num);
      var sum = 1;
      var i;
      for(i=2; i<=max; i++)
      {
        if((this.num %i) == 0)
        {
          sum += i;
//          console.log(sum+", "+i);
          sum += this.num/i;
//          console.log(sum+", "+this.num/i);
        }
      }
      if((i-1)==max)
        sum -=(i-1);
      this.sum = sum;
    };
};

var num1 = new Mynumber();
var num2 = new Mynumber();

var amicablesum = 0;

for(var j=3; j<10000;j++)
{
  num1.num = j;
  num1.gcmsum();
//  console.log(j+", "+num1.sum);
  if( (num1.sum > j) && (num1.sum < 10000) )
  {
    num2.num = num1.sum;
    num2.gcmsum();
    if( num2.sum == num1.num )
    {
      console.log(num2.num+" * "+num2.sum);
      amicablesum += num2.num + num2.sum;
    }
  }
}
console.log("Amicable sum = "+amicablesum);

</script>

